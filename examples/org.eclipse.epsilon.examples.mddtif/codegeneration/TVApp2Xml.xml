<?xml version="1.0"?>
<project default="main">
	
	<epsilon.emf.register file="../metamodels/Xml.ecore"/>
	<epsilon.emf.register file="../metamodels/TVAppDsl.ecore"/>
	
	<epsilon.loadModel name="TVApp" type="EMF">
		<parameter name="modelFile" file="models/ChampionsLeague.model"/>
		<parameter name="metamodelUri" value="TVAppDsl"/>
		<parameter name="isMetamodelFileBased" value="false"/>
		<parameter name="readOnLoad" value="true"/>
	</epsilon.loadModel>
	
	<epsilon.loadModel name="Xml" type="EMF">
		<parameter name="modelFile" file="models/TVAppXml.model"/>
		<parameter name="metamodelUri" value="Xml"/>
		<parameter name="isMetamodelFileBased" value="false"/> 
		<parameter name="readOnLoad" value="false"/>
	</epsilon.loadModel>

	<target name="main">

		<epsilon.etl src="TVApp2Xml.etl">
			
			<model ref="TVApp"/>
			<model ref="Xml"/>
		</epsilon.etl>
		
		<epsilon.egl src="Xml2Text.egl" target="output/TVApp.xml">
			<model ref="Xml"/>
		</epsilon.egl>
		
	</target>
	
</project>